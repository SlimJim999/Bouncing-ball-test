<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gravity Spheres â€” 3D Illusion</title>
  <style>
    body {
      margin: 0;
      background: #000;
      overflow: hidden;
    }

    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>

  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let width, height;

    function resize() {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
    }

    window.addEventListener('resize', resize);
    resize();

    const baseColors = [
      '#FF4136', '#2ECC40', '#0074D9', '#FFDC00', '#B10DC9',
      '#FF851B', '#7FDBFF', '#85144b', '#3D9970', '#AAAAAA',
      '#F012BE', '#01FF70', '#39CCCC', '#001f3f', '#DDDDDD',
      '#FF69B4', '#00CED1', '#FFD700', '#ADFF2F', '#DC143C'
    ];

    function randomColor() {
      return baseColors[Math.floor(Math.random() * baseColors.length)];
    }

    class Particle {
      constructor(x, y, vx, vy, radius, color) {
        this.x = x;
        this.y = y;
        this.vx = vx;
        this.vy = vy;
        this.radius = radius;
        this.color = color;
      }

      draw(ctx) {
        ctx.save();
        ctx.translate(this.x, this.y);

        // Create radial gradient for 3D effect
        const grad = ctx.createRadialGradient(
          -this.radius / 3, -this.radius / 3, this.radius / 5,
          0, 0, this.radius
        );
        grad.addColorStop(0, '#fff');
        grad.addColorStop(0.2, this.color);
        grad.addColorStop(1, '#000');

        ctx.fillStyle = grad;
        ctx.beginPath();
        ctx.arc(0, 0, this.radius, 0, Math.PI * 2);
        ctx.fill();

        ctx.restore();
      }

      update(particles) {
        const centerX = width / 2;
        const centerY = height / 2;
        const dx = centerX - this.x;
        const dy = centerY - this.y;
        const dist = Math.sqrt(dx * dx + dy * dy);
        const gravityStrength = 0.05;

        this.vx += (dx / dist) * gravityStrength;
        this.vy += (dy / dist) * gravityStrength;

        // Drag
        const drag = 0.99;
        this.vx *= drag;
        this.vy *= drag;

        // Move
        this.x += this.vx;
        this.y += this.vy;

        // Bounce off walls
        if (this.x < this.radius || this.x > width - this.radius) this.vx *= -1;
        if (this.y < this.radius || this.y > height - this.radius) this.vy *= -1;

        // Bounce off other particles
        for (let other of particles) {
          if (other === this) continue;
          const dx = other.x - this.x;
          const dy = other.y - this.y;
          const dist = Math.sqrt(dx * dx + dy * dy);
          const minDist = this.radius + other.radius;
          if (dist < minDist && dist > 0) {
            const angle = Math.atan2(dy, dx);
            const force = 0.5;
            this.vx -= Math.cos(angle) * force;
            this.vy -= Math.sin(angle) * force;
          }
        }
      }
    }

    const particles = [];

    // Create 50 spheres with random sizes and colors
    for (let i = 0; i < 50; i++) {
      const angle = Math.random() * Math.PI * 2;
      const radius = Math.random() * 40 + 20;
      const x = width / 2 + Math.cos(angle) * (Math.random() * 200 + 100);
      const y = height / 2 + Math.sin(angle) * (Math.random() * 200 + 100);
      const vx = (Math.random() - 0.5) * 2;
      const vy = (Math.random() - 0.5) * 2;
      const color = randomColor();
      particles.push(new Particle(x, y, vx, vy, radius, color));
    }

    let lastExplosion = Date.now();

    function animate() {
      ctx.clearRect(0, 0, width, height);

      const now = Date.now();
      if (now - lastExplosion > 8000) {
        for (let p of particles) {
          const angle = Math.random() * Math.PI * 2;
          const boost = 20;
          p.vx += Math.cos(angle) * boost;
          p.vy += Math.sin(angle) * boost;
        }
        lastExplosion = now;
      }

      for (let p of particles) {
        p.update(particles);
        p.draw(ctx);
      }

      requestAnimationFrame(animate);
    }

    animate();
  </script>
</body>
</html>

